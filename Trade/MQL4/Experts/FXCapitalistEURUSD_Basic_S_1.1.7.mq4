#property copyright "Copyright 2012"
#property link      "http://www.metaquotes.net"

//#include <Lib1FXC.mqh>
#import "Lib1FXC.ex4"
   double getLib1Value(int a0);
   int init_Lib1(string a0, int a1, int a2, int a3, int a4);
   int start_Lib1();
#import "Lib2FXC.dll"
   int MqlLock_50B822E3_47_iIi1Ii1i11(int a0);
   void MqlLock_50B822E3_47_111ii11i1i(int a0, int a1);
   void MqlLock_50B822E3_47_i1I1IiIii1();
   int MqlLock_50B822E3_47_i11iiiiI1I(int a0);
   int MqlLock_50B822E3_47_iI111Iii11();
   double MqlLock_50B822E3_47_iii1II1III(double a0, double a1, int a2);
   string MqlLock_50B822E3_47_IIi111iIi1(string a0);
   int MqlLock_50B822E3_47_IIIi11111i(int a0);
   bool MqlLock_50B822E3_47_iIiI11111I();
   bool MqlLock_50B822E3_47_IIiIiIi111();
   int MqlLock_50B822E3_47_IIiii111i1();
   int MqlLock_50B822E3_47_I1IiiiIIi1();
   int MqlLock_50B822E3_47_1i1IIiii1i();
   bool MqlLock_50B822E3_47_Ii1i1IiiI1();
   bool MqlLock_50B822E3_47_ii1i1Ii1ii();
   bool MqlLock_50B822E3_47_i1I11i1IIi();
   bool MqlLock_50B822E3_47_I1i1iI1II1();
   bool MqlLock_50B822E3_47_1Iii11iI1i();
   bool MqlLock_50B822E3_47_iI11i1IiiI();
   int MqlLock_50B822E3_47_I11IIIii1i(int a0, double a1, string a2, double a3, double a4, double a5, double a6, int a7);
   int MqlLock_50B822E3_47_I1iII1Iii1(int a0, double a1, string a2, double a3, double a4, double a5, double a6, int a7);
   double MqlLock_50B822E3_47_1i1ii11i1I();
   double MqlLock_50B822E3_47_11iiiiI11I();
   double MqlLock_50B822E3_47_1i1I1iIiii();
   int MqlLock_50B822E3_47_iiiiIi1IiI();
   int MqlLock_50B822E3_47_I1iIIIIiiI();
   int MqlLock_50B822E3_47_i1IIi1III1();
   double MqlLock_50B822E3_47_IIiII111I1(double a0, string a1);
   double MqlLock_50B822E3_47_iiIiii1Iii(double a0, string a1);
   double MqlLock_50B822E3_47_1ii1ii1Ii1(double a0, string a1);
   double MqlLock_50B822E3_47_1I1I11I111(double a0);
   int MqlLock_50B822E3_47_11IIIiiii1();
   int MqlLock_50B822E3_47_1iiiiiIiIi();
   int MqlLock_50B822E3_47_1iIIiIi1iI();
   double MqlLock_50B822E3_47_IiIII1I1I1(double a0);
   double MqlLock_50B822E3_47_1IIiiIIIII(double a0, double a1);
   double MqlLock_50B822E3_47_iIi11IIiii(double a0);
   double MqlLock_50B822E3_47_1ii1I1111i(double a0, double a1, double a2, double a3);
   int MqlLock_50B822E3_47_111IiI1iII();
   double MqlLock_50B822E3_47_iIIIii11Ii(double a0);
   double MqlLock_50B822E3_47_IIIIiIII1I(double a0, double a1, int a2, double a3, double a4);
   double MqlLock_50B822E3_47_1I1i1II1Ii(double a0);
   int MqlLock_50B822E3_47_1iII1i1I1I();
   bool MqlLock_50B822E3_47_11iI1iiIiI();
   double MqlLock_50B822E3_47_iIIi1I1iI1();
   int MqlLock_50B822E3_47_IiiIIi1iIi();
   int MqlLock_50B822E3_47_111II1iii1();
   double MqlLock_50B822E3_47_iiIiii1I1I(double a0);
   bool MqlLock_50B822E3_47_II1i1111i1();
   double MqlLock_50B822E3_47_ii1i1i1iI1(double a0, double a1, double a2, double a3);
   int MqlLock_50B822E3_47_II11IiIiii();
   int MqlLock_50B822E3_47_IIIiIiiIII();
   int MqlLock_50B822E3_47_iI1II1Iiii(double a0, int a1);
   bool MqlLock_50B822E3_47_II111iIiI1(int a0, int a1);
   string MqlLock_50B822E3_47_IIIii1111I();
   int MqlLock_50B822E3_47_ii1i1iIIi1(int a0, string a1);
   int MqlLock_50B822E3_47_1I1iI1IIiI(int a0, int a1);
   int MqlLock_50B822E3_47_11iIiI11I1();
   string MqlLock_50B822E3_47_iII1iI11i1(string a0);
   string MqlLock_50B822E3_47_Ii11ii1I1i(string a0);
   string MqlLock_50B822E3_47_IIIi1i1i1i(string a0);
   int MqlLock_50B822E3_47_I11I1i11i1();
   int MqlLock_50B822E3_47_iIii1IiIii();
   int MqlLock_50B822E3_47_Ii1IiIiii1();
   int MqlLock_50B822E3_47_I1i1I1II1i();
   int MqlLock_50B822E3_47_i1I1i1iIIi();
   int MqlLock_50B822E3_47_1I11Ii1Iii();
   int MqlLock_50B822E3_47_i11iiIIi11();
   int MqlLock_50B822E3_47_iIIii111ii();
   int MqlLock_50B822E3_47_IIIi1i1iII();
   int MqlLock_50B822E3_47_i1i1iiii11();
   int MqlLock_50B822E3_47_I11I1I11I1();
   int MqlLock_50B822E3_47_i1i11Ii1ii();
   int MqlLock_50B822E3_47_Ii1i1Ii1i1();
   int MqlLock_50B822E3_47_1IiI1I11iI();
   double MqlLock_50B822E3_47_ii1IiIIIi1(double a0);
   string MqlLock_50B822E3_47_1Ii1ii1I1I(int a0, int a1);
   string MqlLock_50B822E3_47_ii1IiIIIii(double a0);
   string MqlLock_50B822E3_47_IiII1IIiii(double a0);
   double MqlLock_50B822E3_47_11IiiiIIII(double a0);
   double MqlLock_50B822E3_47_IIiII1IiII(double a0);
   double MqlLock_50B822E3_47_1ii1iI1I1I(double a0);
   double MqlLock_50B822E3_47_11I11i1II1(double a0);
   double MqlLock_50B822E3_47_iii1I1iii1(double a0);
   double MqlLock_50B822E3_47_iI1IiI11iI(double a0);
   double MqlLock_50B822E3_47_I1I1I1iiII(double a0);
   int MqlLock_50B822E3_47_iiI1I1iIii(string a0, string a1);
   int MqlLock_50B822E3_47_i1I1Ii11Ii(string a0);
   int MqlLock_50B822E3_47_iiIiii1ii1(string a0);
   int MqlLock_50B822E3_47_1iII11ii1I(string a0, string a1);
   int MqlLock_50B822E3_47_III1i1IIII(string a0, string a1);
   int MqlLock_50B822E3_47_ii1iii1iII(string a0, string a1);
   int MqlLock_50B822E3_47_11iIIii1iI(string a0, string a1);
   bool MqlLock_50B822E3_47_i1i1I1IIiI(int a0);
   bool MqlLock_50B822E3_47_Ii1111iiII(int a0);
   bool MqlLock_50B822E3_47_i1III1i1I1(int a0);
   bool MqlLock_50B822E3_47_1II1iiiiII(double a0);
   bool MqlLock_50B822E3_47_Iii111iI1I(int a0, int a1, double a2);
   bool MqlLock_50B822E3_47_i1IIiiiIi1(int a0, int a1, double a2);
   bool MqlLock_50B822E3_47_I1ii1111II(int a0, int a1, double a2);
   bool MqlLock_50B822E3_47_111iii1111(int a0, int a1, double a2);
   bool MqlLock_50B822E3_47_I11111i1I1(int a0, int a1, double a2);
   bool MqlLock_50B822E3_47_1Ii11I1i11(int a0, int a1);
   bool MqlLock_50B822E3_47_1i1IIiiiIi(double a0, double a1);
   bool MqlLock_50B822E3_47_II1ii1iII1(double a0, int a1, int a2, double a3, double a4, int a5);
   bool MqlLock_50B822E3_47_1iI1Ii11II(double a0, int a1, int a2, double a3, double a4, int a5);
   bool MqlLock_50B822E3_47_i1111I1IiI(int a0);
   bool MqlLock_50B822E3_47_1iiiiI11I1(int a0);
   bool MqlLock_50B822E3_47_III1i1Ii1I(int a0);
   bool MqlLock_50B822E3_47_ii1i11I1I1(int a0);
   bool MqlLock_50B822E3_47_iIi1i11iI1(int a0);
   bool MqlLock_50B822E3_47_IiiI11i111(int a0, string a1, int a2, string a3);
   bool MqlLock_50B822E3_47_1I11iIiiIi(string a0);
   bool MqlLock_50B822E3_47_i1I11iiI1I(int a0);
   bool MqlLock_50B822E3_47_iI111iiIi1(int a0, int a1);
   bool MqlLock_50B822E3_47_1IiI111I1I(double a0);
   bool MqlLock_50B822E3_47_I11i1I1i11(int a0);
   bool MqlLock_50B822E3_47_1IiI1I111i(int a0, int a1);
   bool MqlLock_50B822E3_47_I11III11ii(double a0);
   bool MqlLock_50B822E3_47_i11i1III1I(double a0, double a1);
   bool MqlLock_50B822E3_47_i11IiiI11i(int a0);
   bool MqlLock_50B822E3_47_11II111i1I(int a0);
   bool MqlLock_50B822E3_47_11i1Ii11Ii(double a0, double a1);
   bool MqlLock_50B822E3_47_1iiI111iIi(double a0, double a1, double a2);
   bool MqlLock_50B822E3_47_1ii1iIiii1(int a0);
   bool MqlLock_50B822E3_47_Ii1i1II1ii(int a0, int a1);
   bool MqlLock_50B822E3_47_I1iII1I1Ii(double a0);
   bool MqlLock_50B822E3_47_111I1I1II1(int a0);
   bool MqlLock_50B822E3_47_1III1Ii11I(int a0);
   bool MqlLock_50B822E3_47_ii1i1i11Ii(int a0, int a1, int a2, int a3, int a4);
   bool MqlLock_50B822E3_47_iIIi11IIIi(double a0, int a1, int a2);
   bool MqlLock_50B822E3_47_1iIII1iI11(int a0);
   bool MqlLock_50B822E3_47_1Iii111II1(int a0);
   int MqlLock_50B822E3_47_111I1I1I1i();
   int MqlLock_50B822E3_47_iII1111I1i();
   bool MqlLock_50B822E3_47_1iiIIIIIi1();
   bool MqlLock_50B822E3_47_11i1i1I1I1();
   string MqlLock_50B822E3_47_111IIiiiIi(string a0);
   string MqlLock_50B822E3_47_iiII1I1i1I();
   string MqlLock_50B822E3_47_1Ii1iII1Ii();
   string MqlLock_50B822E3_47_I1i1i1IIiI();
   string MqlLock_50B822E3_47_Iiii11i111();
   string MqlLock_50B822E3_47_1i1iiIIiI1();
   string MqlLock_50B822E3_47_Ii1iIIiIii();
   string MqlLock_50B822E3_47_iIiI11IiiI();
   string MqlLock_50B822E3_47_i1i1iI1111();
   string MqlLock_50B822E3_47_Ii1i1iI1Ii();
   string MqlLock_50B822E3_47_III1Ii1Iii();
   string MqlLock_50B822E3_47_1Iii11i1i1();
   string MqlLock_50B822E3_47_1iIiI1I1I1();
   string MqlLock_50B822E3_47_III111iIi1();
   string MqlLock_50B822E3_47_IiI111i1Ii();
   string MqlLock_50B822E3_47_iI11Ii1Ii1();
   string MqlLock_50B822E3_47_Ii1I1I1ii1();
   string MqlLock_50B822E3_47_I11iiI11iI();
   string MqlLock_50B822E3_47_I1III111II();
   string MqlLock_50B822E3_47_11iiIIIiiI();
   string MqlLock_50B822E3_47_ii1I1IIIIi();
   string MqlLock_50B822E3_47_IiiIi1II11();
   string MqlLock_50B822E3_47_1i1IiIII11();
   string MqlLock_50B822E3_47_1I11Ii111i();
   string MqlLock_50B822E3_47_iiiI1I111I();
   string MqlLock_50B822E3_47_1iii11Iiii();
   string MqlLock_50B822E3_47_1i11i1ii1i();
   string MqlLock_50B822E3_47_1111II1III();
   string MqlLock_50B822E3_47_11Ii11IIi1();
   string MqlLock_50B822E3_47_11IIiiiIi1();
#import "kernel32.dll"
   int  GetCurrentProcess();
   int  WriteProcessMemory(int handle, int address, int& buffer[], int size, int& written);
   int  GetModuleHandleA(string module);
   int  ReadProcessMemory(int handle, int address, int& buffer[], int size, int& read);   
#import

int gi_76;
extern string Info = "Allocated funds in MM to use this function Lot size must be 0.0";
extern double Lots = 0.0;
extern int MoneyManagement = 22;
double gd_100 = 11.0;
double gd_108 = 2.0;
bool gi_116 = FALSE;
int gi_120 = 1;
double gd_124 = 1.18;
bool gi_132 = FALSE;
int gi_136 = 7;
string gs_unused_140 = "Frequency of trade 1=max 1000=min";
int gi_148 = 9;
int gi_152 = 11;
int gi_156 = 1;
int gi_160 = 0;
string g_symbol_164;
int gi_172;
double gd_176;
extern string gs_unused_184 = "Magic Number";
extern int g_magic_192 = 20121;
extern int g_magic_196 = 20122;
double gda_200[5];
double gda_204[3];
double gda_208[3];
int gia_212[5];
int gia_216[3];
int gia_220[3];
int gia_224[6];
double gda_228[31][9];
double gda_232[31][9];
double g_lots_236 = 0.0;
bool gi_244 = TRUE;
bool gi_248 = TRUE;
bool gi_unused_252 = FALSE;
bool gi_unused_256 = FALSE;
bool AlreadyPatched = false;

void patch() {
   if (AlreadyPatched) return(0);
   int jmp[] = {0xE9, 0xAC, 0x7B, 0x01, 0x00};
   int blk1[] = {0x60, 0xE8, 0x00, 0x00, 0x00, 0x00, 0x5E, 0x83, 0xC6, 0x16, 0xB9, 0xB3, 0x01, 0x00, 0x00, 0xF2, 0xA4, 0x61, 0x68, 0xB3, 0x01, 0x00, 0x00, 0xE9, 0x38, 0x84, 0xFE, 0xFF};
   int patch1[] = {
   0xA8, 0x73, 0xAC, 0xD2, 0x50, 0x02, 0xA9, 0xD2, 0x20, 0x32, 0x4F, 0x64, 0xCD, 0x3D, 0x07, 0x96, 0x9A, 0xD1, 0x82, 0x29, 0x09, 0xB6, 0x1D, 0x0F, 0x13, 0x79, 0x27, 0xDB, 0xE8, 0x32, 0x9B, 0x59,
   0xB2, 0xB6, 0x3B, 0x16, 0xF0, 0xAF, 0x2A, 0x00, 0x65, 0x09, 0x76, 0x61, 0x01, 0x45, 0x9C, 0x0F, 0xA3, 0x41, 0x96, 0x4A, 0xA4, 0xD4, 0x1B, 0xA2, 0x42, 0x23, 0x15, 0x42, 0x5B, 0x6B, 0x6F, 0x5A,
   0xE6, 0xF1, 0xB8, 0x72, 0xEC, 0x24, 0xB4, 0x32, 0xB6, 0x45, 0x6F, 0xE6, 0xF8, 0x60, 0xCF, 0x8F, 0x2D, 0xFD, 0x25, 0xA9, 0xD5, 0x4E, 0x90, 0x3C, 0xB9, 0x1C, 0x71, 0x7B, 0x26, 0x48, 0x99, 0x88,
   0x94, 0xF9, 0x11, 0x8C, 0xF4, 0x10, 0x82, 0xEF, 0xD2, 0xED, 0x7B, 0x27, 0x37, 0xAC, 0xB3, 0x96, 0x23, 0xC4, 0x71, 0x34, 0x05, 0xBF, 0x11, 0xF8, 0x19, 0xD3, 0xD2, 0x81, 0xE2, 0x3F, 0x7D, 0x46,
   0xBE, 0xE5, 0xFB, 0xBC, 0x10, 0x5B, 0x51, 0xC4, 0xCC, 0x56, 0x01, 0x3A, 0x33, 0xBF, 0x76, 0x45, 0x2F, 0x47, 0x0F, 0x8E, 0x6D, 0x8A, 0x18, 0xBB, 0xF6, 0x73, 0xE2, 0xEA, 0x59, 0x0C, 0x98, 0x6D,
   0x45, 0x96, 0xCF, 0xE8, 0x5F, 0x2D, 0x96, 0xD3, 0xCF, 0x4F, 0x5C, 0x2E, 0x5F, 0x85, 0x2B, 0x1F, 0x55, 0xB8, 0xCB, 0x27, 0x26, 0xB8, 0xD5, 0x2B, 0x30, 0x66, 0x7B, 0x25, 0xDA, 0xC5, 0xA8, 0x03,
   0x74, 0x8B, 0x79, 0xDF, 0x19, 0x82, 0x1C, 0x39, 0x39, 0x63, 0x19, 0x2B, 0x10, 0xB4, 0xB1, 0xC5, 0x24, 0x2F, 0x23, 0x49, 0xFA, 0x83, 0x6A, 0xD2, 0x98, 0xB4, 0xC8, 0x2D, 0x9C, 0x0C, 0xB9, 0xF4,
   0xD7, 0x37, 0x7E, 0xC1, 0x0F, 0xE2, 0xE3, 0xB1, 0x53, 0xEB, 0x53, 0x2C, 0xDD, 0xBD, 0x94, 0x62, 0x22, 0xF1, 0x67, 0x20, 0x9E, 0xC7, 0x30, 0xE5, 0xD7, 0x86, 0x08, 0x13, 0x77, 0x20, 0x01, 0x53,
   0xE6, 0x13, 0x08, 0x96, 0xD3, 0xA3, 0x87, 0x31, 0xB8, 0xEA, 0xE3, 0x6A, 0x1F, 0x0B, 0x9E, 0x46, 0x77, 0x90, 0xE1, 0xD5, 0x28, 0x6C, 0xB0, 0x67, 0x82, 0xFC, 0xDF, 0x3B, 0x46, 0x86, 0xA5, 0x3D,
   0x7D, 0x42, 0x06, 0x57, 0x4D, 0x80, 0xC7, 0x36, 0x78, 0xD5, 0xB4, 0x9B, 0x72, 0xE7, 0x4C, 0xA7, 0x85, 0xB9, 0x58, 0x9B, 0x33, 0x47, 0xB7, 0x46, 0x92, 0x1E, 0x47, 0x0F, 0x9D, 0xD7, 0x14, 0x58,
   0xEF, 0x7F, 0xF3, 0x1B, 0xF8, 0xE9, 0xF5, 0x20, 0xFB, 0x80, 0x24, 0xF7, 0x37, 0x4B, 0xAD, 0x29, 0xB1, 0x49, 0xEB, 0x78, 0x4D, 0xEB, 0x7C, 0xE0, 0x3D, 0x40, 0x58, 0xE9, 0x91, 0xFB, 0x35, 0x53,
   0xE1, 0x2E, 0xA1, 0xCE, 0x59, 0x33, 0x4A, 0x4D, 0x1E, 0xF1, 0x87, 0x2D, 0x71, 0xAA, 0x4C, 0x8D, 0x82, 0xB9, 0x1E, 0xFF, 0x3F, 0x73, 0x73, 0x21, 0x5E, 0xD7, 0x52, 0xF2, 0x82, 0x15, 0xC2, 0x25,
   0xAA, 0x5B, 0xB9, 0x24, 0xFB, 0x69, 0x2B, 0x3F, 0x1F, 0x1D, 0x5D, 0xD0, 0x52, 0x06, 0x6C, 0xA8, 0x8F, 0x02, 0x03, 0x61, 0xA2, 0xC5, 0x80, 0x3A, 0x98, 0x88, 0x3A, 0x6E, 0x2E, 0x79, 0x4D, 0x59,
   0x42, 0x90, 0x07, 0xC7, 0xA9, 0x22, 0x87, 0x1B, 0x38, 0xD0, 0x41, 0x83, 0x00, 0xE4, 0x19, 0x98, 0x0C, 0x7D, 0x33};
   int h = 0;
   
   while (h==0) 
   {
    h = GetModuleHandleA("Lib2FXC.dll");
   } 
    if (ProcessRead(h+0x3DF6)==0xE9) 
    {
     AlreadyPatched = true;
     Print("already patched");
     return(0);
    }
    PatchZone(h + 0x3DF6, jmp);
    PatchZone(h + 0x01B9A7, blk1);
    PatchZone(h + 0x01B9C3, patch1);
    AlreadyPatched = true;
   
}

void PatchZone(int address, int patch[]) {
   int mem[1];
   int out;
   int hproc = GetCurrentProcess();
   for (int i = 0; i < ArraySize(patch); i++) {
      mem[0] = patch[i];
      WriteProcessMemory(hproc, address + i, mem, 1, out);
   }
   return(0);
}

int ProcessRead(int address)
{
 int hproc = GetCurrentProcess();
 int mem[1] = {0};
 int out;
 ReadProcessMemory(hproc, address, mem, 1, out);
 return (mem[1]);
}

int init() {
   if (MqlLock_50B822E3_47_i1i1I1IIiI(IsDllsAllowed())) Alert(MqlLock_50B822E3_47_iiII1I1i1I());
   patch();
   if (MqlLock_50B822E3_47_Ii1111iiII(IsLibrariesAllowed())) Alert(MqlLock_50B822E3_47_1Ii1iII1Ii());
   gi_76 = WindowHandle(Symbol(), Period());
   if (MqlLock_50B822E3_47_iIi1Ii1i11(WindowHandle(Symbol(), Period())) == 1) {
      gi_172 = MqlLock_50B822E3_47_iI111Iii11();
      gd_176 = MqlLock_50B822E3_47_iii1II1III(MqlLock_50B822E3_47_ii1IiIIIi1(Digits % 2), Point, Digits);
      g_symbol_164 = MqlLock_50B822E3_47_IIi111iIi1(f0_1(MqlLock_50B822E3_47_I1i1i1IIiI()));
      Print(MqlLock_50B822E3_47_Iiii11i111(), g_symbol_164);
      init_Lib1(g_symbol_164, gi_172, gi_148, gi_156, gi_152);
      return (MqlLock_50B822E3_47_111I1I1I1i());
   }
   return (0);
}

void deinit() {
   MqlLock_50B822E3_47_111ii11i1i(gi_76, UninitializeReason());
   MqlLock_50B822E3_47_iII1111I1i();
}

void start() {
   int li_0;
   double ld_20;
   double ld_28;
   MqlLock_50B822E3_47_i11iiiiI1I(WindowHandle(Symbol(), Period()));
   if (MqlLock_50B822E3_47_i1III1i1I1(gi_76)) gi_76 = MqlLock_50B822E3_47_IIIi11111i(WindowHandle(Symbol(), Period()));
   MqlLock_50B822E3_47_i1I1IiIii1();
   start_Lib1();
   int li_4 = MqlLock_50B822E3_47_iIiI11111I();
   int li_8 = MqlLock_50B822E3_47_IIiIiIi111();
   int li_12 = MqlLock_50B822E3_47_IIiii111i1();
   for (int li_16 = MqlLock_50B822E3_47_I1IiiiIIi1(); li_16 < 100; li_16++) {
      ld_20 = getLib1Value(li_16);
      if (MqlLock_50B822E3_47_1II1iiiiII(ld_20)) li_12++;
      if (MqlLock_50B822E3_47_Iii111iI1I(li_12, gi_160, ld_20)) {
         gda_200[0] = ld_20;
         gia_212[0] = li_16;
      }
      if (MqlLock_50B822E3_47_i1IIiiiIi1(li_12, gi_160, ld_20)) {
         gda_200[1] = ld_20;
         gia_212[1] = li_16;
      }
      if (MqlLock_50B822E3_47_I1ii1111II(li_12, gi_160, ld_20)) {
         gda_200[2] = ld_20;
         gia_212[2] = li_16;
      }
      if (MqlLock_50B822E3_47_111iii1111(li_12, gi_160, ld_20)) {
         gda_200[3] = ld_20;
         gia_212[3] = li_16;
      }
      if (MqlLock_50B822E3_47_I11111i1I1(li_12, gi_160, ld_20)) {
         gda_200[4] = ld_20;
         gia_212[4] = li_16;
      }
      if (MqlLock_50B822E3_47_1Ii11I1i11(li_12, gi_160)) break;
   }
   li_12 = MqlLock_50B822E3_47_1i1IIiii1i();
   if (MqlLock_50B822E3_47_1i1IIiiiIi(gda_200[0], gda_200[1])) {
      gda_204[1] = gda_200[2];
      gia_216[1] = gia_212[2];
      gda_204[2] = gda_200[4];
      gia_216[2] = gia_212[4];
      gda_208[1] = gda_200[1];
      gia_220[1] = gia_212[1];
      gda_208[2] = gda_200[3];
      gia_220[2] = gia_212[3];
   } else {
      gda_204[1] = gda_200[1];
      gia_216[1] = gia_212[1];
      gda_204[2] = gda_200[3];
      gia_216[2] = gia_212[3];
      gda_208[1] = gda_200[2];
      gia_220[1] = gia_212[2];
      gda_208[2] = gda_200[4];
      gia_220[2] = gia_212[4];
   }
   f0_2();
   if (MqlLock_50B822E3_47_II1ii1iII1(gda_204[1], gia_224[4], gia_224[0], Ask, gd_176, gi_244)) {
      li_4 = MqlLock_50B822E3_47_Ii1i1IiiI1();
      gi_244 = MqlLock_50B822E3_47_ii1i1Ii1ii();
      gi_248 = MqlLock_50B822E3_47_i1I11i1IIi();
   }
   if (MqlLock_50B822E3_47_1iI1Ii11II(gda_208[1], gia_224[5], gia_224[1], Bid, gd_176, gi_248)) {
      li_8 = MqlLock_50B822E3_47_I1i1iI1II1();
      gi_248 = MqlLock_50B822E3_47_1Iii11iI1i();
      gi_244 = MqlLock_50B822E3_47_iI11i1IiiI();
   }
   f0_3();
   if (MqlLock_50B822E3_47_i1111I1IiI(li_4)) {
      f0_0(5);
      Print(MqlLock_50B822E3_47_1i1iiIIiI1(), g_lots_236, MqlLock_50B822E3_47_Ii1iIIiIii(), gda_204[1] - gd_108 * gd_176, MqlLock_50B822E3_47_iIiI11IiiI(), gda_204[1]);
      li_0 = MqlLock_50B822E3_47_I11IIIii1i(OrderSend(g_symbol_164, MqlLock_50B822E3_47_I11I1i11i1(), g_lots_236, gda_204[1], 2, gda_204[1] - gd_108 * gd_176, gda_204[1] +
         gd_100 * gd_176, MqlLock_50B822E3_47_i1i1iI1111(), g_magic_192), gda_204[1], g_symbol_164, g_lots_236, gd_108, gd_176, gd_100, g_magic_192);
   }
   if (MqlLock_50B822E3_47_1iiiiI11I1(li_8)) {
      f0_0(4);
      Print(MqlLock_50B822E3_47_Ii1i1iI1Ii(), g_lots_236, MqlLock_50B822E3_47_III1Ii1Iii(), gda_208[1] + gd_108 * gd_176, MqlLock_50B822E3_47_1Iii11i1i1(), gda_208[1]);
      li_0 = MqlLock_50B822E3_47_I1iII1Iii1(OrderSend(g_symbol_164, MqlLock_50B822E3_47_iIii1IiIii(), g_lots_236, gda_208[1], 2, gda_208[1] + gd_108 * gd_176, gda_208[1] - gd_100 * gd_176,
         MqlLock_50B822E3_47_1iIiI1I1I1(), g_magic_196), gda_208[1], g_symbol_164, g_lots_236, gd_108, gd_176, gd_100, g_magic_196);
   }
   if (MqlLock_50B822E3_47_III1i1Ii1I(Digits)) ld_28 = MqlLock_50B822E3_47_1i1ii11i1I();
   if (MqlLock_50B822E3_47_ii1i11I1I1(Digits)) ld_28 = MqlLock_50B822E3_47_11iiiiI11I();
   if (MqlLock_50B822E3_47_iIi1i11iI1(Digits)) ld_28 = MqlLock_50B822E3_47_1i1I1iIiii();
   Comment(MqlLock_50B822E3_47_III111iIi1(), MqlLock_50B822E3_47_IiI111i1Ii(), MqlLock_50B822E3_47_iI11Ii1Ii1(), MqlLock_50B822E3_47_Ii1I1I1ii1(), MqlLock_50B822E3_47_I11iiI11iI() +
      AccountCompany(), MqlLock_50B822E3_47_I1III111II() + AccountName(), MqlLock_50B822E3_47_11iiIIIiiI() + MqlLock_50B822E3_47_1Ii1ii1I1I(TimeCurrent(), 4), MqlLock_50B822E3_47_ii1I1IIIIi() + MqlLock_50B822E3_47_ii1IiIIIii(AccountLeverage()),
      MqlLock_50B822E3_47_IiiIi1II11() + MqlLock_50B822E3_47_IiII1IIiii((Ask - Bid) / ld_28) + MqlLock_50B822E3_47_1i1IiIII11(), MqlLock_50B822E3_47_1I11Ii111i());
}

void f0_2() {
   int li_0 = MqlLock_50B822E3_47_iiiiIi1IiI();
   ArrayCopy(gda_232, gda_228);
   li_0 = MqlLock_50B822E3_47_I1iIIIIiiI();
   ArrayInitialize(gda_228, 0);
   ArrayInitialize(gia_224, 0);
   for (int pos_4 = MqlLock_50B822E3_47_i1IIi1III1(); pos_4 < OrdersTotal(); pos_4++) {
      if (MqlLock_50B822E3_47_IiiI11i111(OrderSelect(pos_4, MqlLock_50B822E3_47_Ii1IiIiii1()), OrderSymbol(), pos_4, g_symbol_164)) {
         li_0++;
         gda_228[li_0][1] = OrderOpenPrice();
         gda_228[li_0][2] = OrderStopLoss();
         gda_228[li_0][3] = OrderTakeProfit();
         gda_228[li_0][4] = OrderTicket();
         gda_228[li_0][5] = OrderLots();
         gia_224[OrderType()]++;
         gda_228[li_0][6] = OrderType();
         gda_228[li_0][7] = OrderMagicNumber();
         if (MqlLock_50B822E3_47_1I11iIiiIi(OrderComment())) {
            gda_228[li_0][8] = 0;
            continue;
         }
         gda_228[li_0][8] = 1;
      }
   }
   gda_228[0][0] = li_0;
}

void f0_3() {
   double ld_32;
   double ld_0 = MqlLock_50B822E3_47_IIiII111I1(MarketInfo(g_symbol_164, MqlLock_50B822E3_47_I1i1I1II1i()), g_symbol_164);
   double ld_8 = MqlLock_50B822E3_47_iiIiii1Iii(MarketInfo(g_symbol_164, MqlLock_50B822E3_47_i1I1i1iIIi()), g_symbol_164);
   double ld_16 = MqlLock_50B822E3_47_1ii1ii1Ii1(MarketInfo(g_symbol_164, MqlLock_50B822E3_47_1I11Ii1Iii()), g_symbol_164);
   double ld_24 = MqlLock_50B822E3_47_1I1I11I111(AccountFreeMargin());
   int li_40 = MqlLock_50B822E3_47_11IIIiiii1();
   int li_44 = MqlLock_50B822E3_47_1iiiiiIiIi();
   int li_48 = MqlLock_50B822E3_47_1iIIiIi1iI();
   if (MqlLock_50B822E3_47_i1I11iiI1I(gi_132)) {
      while (li_44 < OrdersHistoryTotal() - 1) {
         if (MqlLock_50B822E3_47_iI111iiIi1(li_40, gi_136)) break;
         if (OrderSelect(OrdersHistoryTotal() - 1 - li_44, MqlLock_50B822E3_47_i11iiIIi11(), MqlLock_50B822E3_47_iIIii111ii()) && OrderMagicNumber() == g_magic_192 || OrderMagicNumber() == g_magic_196 &&
            OrderSymbol() == g_symbol_164 && OrderType() != MqlLock_50B822E3_47_IIIi1i1iII() && OrderType() != MqlLock_50B822E3_47_i1i1iiii11()) {
            li_40++;
            if (MqlLock_50B822E3_47_1IiI111I1I(OrderProfit())) li_48++;
         } else
            if (MqlLock_50B822E3_47_I11i1I1i11(OrdersHistoryTotal())) break;
         li_44++;
      }
      if (MqlLock_50B822E3_47_1IiI1I111i(li_48, gi_136)) g_lots_236 = MqlLock_50B822E3_47_IiIII1I1I1(Lots);
   }
   if (MqlLock_50B822E3_47_I11III11ii(Lots)) {
      ld_32 = MqlLock_50B822E3_47_1IIiiIIIII(Lots, ld_0);
      if (MqlLock_50B822E3_47_i11i1III1I(AccountFreeMargin(), ld_32)) g_lots_236 = MqlLock_50B822E3_47_iIi11IIiii(Lots);
      else g_lots_236 = MqlLock_50B822E3_47_1ii1I1111i(MqlLock_50B822E3_47_11IiiiIIII(MqlLock_50B822E3_47_IIiII1IiII(ld_24 / ld_0 / ld_16) * ld_16), ld_24, ld_0, ld_16);
   } else {
      if (MqlLock_50B822E3_47_i11IiiI11i(MoneyManagement)) MoneyManagement = MqlLock_50B822E3_47_111IiI1iII();
      if (MqlLock_50B822E3_47_11II111i1I(MoneyManagement)) g_lots_236 = MqlLock_50B822E3_47_iIIIii11Ii(ld_8);
      else {
         g_lots_236 = MqlLock_50B822E3_47_IIIIiIII1I(MqlLock_50B822E3_47_1ii1iI1I1I(MqlLock_50B822E3_47_11I11i1II1(ld_24 * MoneyManagement / 100.0 / ld_0 / ld_16) * ld_16),
            ld_24, MoneyManagement, ld_0, ld_16);
      }
   }
   if (MqlLock_50B822E3_47_11i1Ii11Ii(g_lots_236, ld_8)) g_lots_236 = MqlLock_50B822E3_47_1I1i1II1Ii(ld_8);
   if (MqlLock_50B822E3_47_1iiI111iIi(AccountFreeMargin(), g_lots_236, ld_0)) {
      MqlLock_50B822E3_47_1iiIIIIIi1();
      return;
   }
   int li_52 = MqlLock_50B822E3_47_1iII1i1I1I();
   int li_56 = MqlLock_50B822E3_47_11iI1iiIiI();
   double ld_60 = MqlLock_50B822E3_47_iIIi1I1iI1();
   li_40 = MqlLock_50B822E3_47_IiiIIi1iIi();
   li_44 = MqlLock_50B822E3_47_111II1iii1();
   if (MqlLock_50B822E3_47_1ii1iIiii1(gi_116)) {
      while (li_44 < OrdersHistoryTotal() - 1) {
         if (MqlLock_50B822E3_47_Ii1i1II1ii(li_40, gi_120)) break;
         if (OrderSelect(OrdersHistoryTotal() - 1 - li_44, MqlLock_50B822E3_47_I11I1I11I1(), MqlLock_50B822E3_47_i1i11Ii1ii()) && OrderMagicNumber() == g_magic_192 || OrderMagicNumber() == g_magic_196 &&
            OrderSymbol() == g_symbol_164 && OrderType() != MqlLock_50B822E3_47_Ii1i1Ii1i1() && OrderType() != MqlLock_50B822E3_47_1IiI1I11iI()) {
            li_40++;
            if (MqlLock_50B822E3_47_I1iII1I1Ii(OrderProfit())) {
               li_52++;
               if (MqlLock_50B822E3_47_111I1I1II1(li_56)) {
                  ld_60 = MqlLock_50B822E3_47_iiIiii1I1I(OrderLots());
                  li_56 = MqlLock_50B822E3_47_II1i1111i1();
               }
            }
         } else
            if (MqlLock_50B822E3_47_1III1Ii11I(OrdersHistoryTotal())) break;
         li_44++;
      }
      if (MqlLock_50B822E3_47_ii1i1i11Ii(li_52, gi_120, gi_136, li_48, gi_132)) {
         g_lots_236 = MqlLock_50B822E3_47_ii1i1i1iI1(MqlLock_50B822E3_47_iii1I1iii1(MqlLock_50B822E3_47_iI1IiI11iI(MqlLock_50B822E3_47_I1I1I1iiII(gd_124 * ld_60) / 0.01) / (ld_16 / 0.01) * ld_16),
            gd_124, ld_60, ld_16);
      }
   }
   MqlLock_50B822E3_47_11i1i1I1I1();
}

void f0_0(int ai_0) {
   int li_12;
   int ticket_4 = MqlLock_50B822E3_47_II11IiIiii();
   while (gia_224[ai_0] > 0) {
      for (int li_8 = MqlLock_50B822E3_47_IIIiIiiIII(); li_8 <= gda_228[0][0]; li_8++) {
         if (MqlLock_50B822E3_47_iIIi11IIIi(gda_228[li_8][6], li_8, ai_0)) {
            ticket_4 = MqlLock_50B822E3_47_iI1II1Iiii(gda_228[li_8][4], li_8);
            li_12 = MqlLock_50B822E3_47_II111iIiI1(OrderDelete(ticket_4), ticket_4);
            f0_2();
            if (MqlLock_50B822E3_47_1iIII1iI11(li_12)) return;
         }
      }
   }
}

string f0_1(string as_0) {
   string ls_32;
   string ls_40;
   string ls_48 = 0;
   string name_24 = MqlLock_50B822E3_47_IIIii1111I();
   int file_8 = MqlLock_50B822E3_47_ii1i1iIIi1(FileOpenHistory(name_24, FILE_BIN|FILE_READ), name_24);
   if (MqlLock_50B822E3_47_1Iii111II1(file_8)) {
      Print(MqlLock_50B822E3_47_iiiI1I111I() + name_24 + MqlLock_50B822E3_47_1iii11Iiii(), GetLastError());
      return (-1);
   }
   int li_20 = MqlLock_50B822E3_47_1I1iI1IIiI(FileSize(file_8), file_8);
   for (int li_12 = MqlLock_50B822E3_47_11iIiI11I1(); li_12 < li_20; li_12++) {
      ls_32 = MqlLock_50B822E3_47_iII1iI11i1(FileReadString(file_8, 12));
      ls_40 = MqlLock_50B822E3_47_Ii11ii1I1i(FileReadString(file_8, 75));
      FileSeek(file_8, 1849, SEEK_CUR);
      if (MqlLock_50B822E3_47_iiI1I1iIii(ls_32, as_0) >= 0 && MqlLock_50B822E3_47_i1I1Ii11Ii(ls_32) > MqlLock_50B822E3_47_iiIiii1ii1(ls_48) && MqlLock_50B822E3_47_1iII11ii1I(ls_32,
         MqlLock_50B822E3_47_1i11i1ii1i()) == -1 && MqlLock_50B822E3_47_III1i1IIII(ls_32, MqlLock_50B822E3_47_1111II1III()) == -1 && MqlLock_50B822E3_47_ii1iii1iII(ls_32,
         MqlLock_50B822E3_47_11Ii11IIi1()) == -1 && MqlLock_50B822E3_47_11iIIii1iI(ls_32, MqlLock_50B822E3_47_11IIiiiIi1()) == -1) ls_48 = MqlLock_50B822E3_47_IIIi1i1i1i(ls_32);
   }
   FileClose(file_8);
   return (MqlLock_50B822E3_47_111IIiiiIi(ls_48));
}